---
import SEO from '../components/SEO.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import '../styles/global.css';

export interface Props {
  title: string;
  description?: string;
  keywords?: string;
  ogImage?: string;
}

const { 
  title, 
  description = "WestGroup Financial Management - Expert fee-only financial planning, wealth management, and fiduciary advisory services in BC. Tax-efficient strategies for high-net-worth individuals.",
  keywords = "fee-only financial planning, fiduciary financial advisor, wealth management, retirement planning, tax-efficient investments, estate planning, business succession planning",
  ogImage = "/images/og-image.jpg"
} = Astro.props;
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>

    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />

    <SEO 
      title={title}
      description={description}
      keywords={keywords}
      ogImage={ogImage}
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="generator" content={Astro.generator} />
    
    <!-- Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "FinancialService",
        "name": "WestGroup Financial Management Inc.",
        "description": "Fee-only financial planning and wealth management services for high-net-worth individuals and families in British Columbia.",
        "url": "https://westgroupfinancial.com",
        "telephone": "+1-604-555-0123",
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "123 Financial District",
          "addressLocality": "Surrey",
          "addressRegion": "BC",
          "postalCode": "V3S 0A1",
          "addressCountry": "CA"
        },
        "serviceArea": {
          "@type": "GeoCircle",
          "geoMidpoint": {
            "@type": "GeoCoordinates",
            "latitude": 49.1913,
            "longitude": -122.8490
          },
          "geoRadius": "100000"
        },
        "priceRange": "$$$$",
        "openingHours": "Mo-Fr 08:00-17:00",
        "sameAs": [
          "https://www.linkedin.com/company/westgroup-financial"
        ]
      }
    </script>
  </head>
  <body class="bg-dark-950 text-white overflow-x-hidden">
    <Header />
    <main class="min-h-screen">
      <slot />
    </main>
    <Footer />
    
    <!-- Background Effects -->
    <div class="fixed inset-0 -z-10 overflow-hidden pointer-events-none">
      <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-primary-500/5 rounded-full blur-3xl animate-float"></div>
      <div class="absolute bottom-1/4 right-1/4 w-80 h-80 bg-accent-500/5 rounded-full blur-3xl animate-float" style="animation-delay: -3s;"></div>
      <div class="absolute top-3/4 left-1/2 w-64 h-64 bg-primary-400/5 rounded-full blur-3xl animate-float" style="animation-delay: -1.5s;"></div>
    </div>

    <script>
      // Smooth scrolling for anchor links
      document.addEventListener('DOMContentLoaded', function() {
        const links = document.querySelectorAll('a[href^="#"]');
        links.forEach(link => {
          link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        });

        // Add scroll animation observer
        const observerOptions = {
          threshold: 0.1,
          rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('animate-fade-in');
            }
          });
        }, observerOptions);

        document.querySelectorAll('.observe-scroll').forEach(el => {
          observer.observe(el);
        });
      });
    </script>
  </body>
</html>
