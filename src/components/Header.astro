---
// src/components/Header.astro
---

<header class="fixed top-0 left-0 right-0 z-50 bg-slate-900/95 backdrop-blur-sm border-b border-slate-800">
  <!-- Trust/Emergency Banner -->
  <div class="bg-gradient-to-r from-yellow-400 to-green-400 text-slate-900 text-center py-2 px-4">
    <div class="flex items-center justify-center space-x-2 md:space-x-4 text-xs md:text-sm font-semibold max-w-7xl mx-auto">
      <span class="flex items-center">
        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
          <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        Licensed Fiduciary
      </span>
      <span class="hidden sm:inline">â€¢</span>
      <a href="tel:+16041234567" class="hover:underline flex items-center">
        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
        </svg>
        (604) 123-4567
      </a>
      <span class="hidden md:inline">â€¢</span>
      <span class="hidden md:flex items-center">
        <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
        </svg>
        Serving BC Since 2010
      </span>
    </div>
  </div>

  <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="/" class="flex items-center space-x-3 group">
          <img src="/images/logo.png" alt="WestGroup Financial Planning - Fee-Only Fiduciary Financial Advisors" class="h-10 w-auto">
          <div class="hidden sm:block">
            <h1 class="text-xl font-bold text-white font-['Playfair_Display']">WestGroup Financial</h1>
            <p class="text-xs text-gray-400">Fee-Only â€¢ Fiduciary â€¢ Licensed</p>
          </div>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-6">
        <a href="/" class="text-gray-300 hover:text-yellow-400 font-medium transition-all duration-200 relative group">
          Home
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-200 group-hover:w-full"></span>
        </a>
        <a href="/services" class="text-gray-300 hover:text-yellow-400 font-medium transition-all duration-200 relative group">
          Services
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-200 group-hover:w-full"></span>
        </a>
        <a href="/calculator" class="text-gray-300 hover:text-yellow-400 font-medium transition-all duration-200 relative group">
          Calculators
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-200 group-hover:w-full"></span>
        </a>
        <a href="/about" class="text-gray-300 hover:text-yellow-400 font-medium transition-all duration-200 relative group">
          About
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-200 group-hover:w-full"></span>
        </a>
        <a href="/contact" class="text-gray-300 hover:text-yellow-400 font-medium transition-all duration-200 relative group">
          Contact
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-yellow-400 transition-all duration-200 group-hover:w-full"></span>
        </a>
        
        <!-- CTA Button -->
        <a href="/contact" class="bg-gradient-to-r from-yellow-400 to-green-400 text-slate-900 px-4 py-2 rounded-lg font-semibold hover:shadow-lg hover:shadow-yellow-400/25 transition-all duration-300 transform hover:scale-105">
          Free Consultation
        </a>
      </div>

      <!-- Mobile Section -->
      <div class="md:hidden flex items-center space-x-3">
        <a href="tel:+16041234567" class="bg-gradient-to-r from-yellow-400 to-green-400 text-slate-900 px-3 py-1 rounded text-sm font-semibold">
          Call
        </a>
        
        <button 
          id="mobile-menu-button" 
          class="text-gray-300 hover:text-white focus:outline-none focus:text-white p-1"
          aria-label="Toggle mobile menu"
          aria-expanded="false"
        >
          <svg id="hamburger-icon" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
          <svg id="close-icon" class="h-6 w-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="md:hidden hidden overflow-hidden">
      <div class="px-4 pt-4 pb-6 space-y-3 bg-slate-800/98 backdrop-blur-sm border-t border-slate-700 rounded-b-lg shadow-2xl transform transition-all duration-300 ease-in-out">
        <a href="/" class="block text-gray-300 hover:text-yellow-400 font-medium py-3 px-2 transition-colors duration-200 border-b border-slate-700/30 hover:bg-slate-700/30 rounded">
          ğŸ  Home
        </a>
        <a href="/services" class="block text-gray-300 hover:text-yellow-400 font-medium py-3 px-2 transition-colors duration-200 border-b border-slate-700/30 hover:bg-slate-700/30 rounded">
          ğŸ’¼ Services
        </a>
        <a href="/calculator" class="block text-gray-300 hover:text-yellow-400 font-medium py-3 px-2 transition-colors duration-200 border-b border-slate-700/30 hover:bg-slate-700/30 rounded">
          ğŸ§® Calculators
        </a>
        <a href="/about" class="block text-gray-300 hover:text-yellow-400 font-medium py-3 px-2 transition-colors duration-200 border-b border-slate-700/30 hover:bg-slate-700/30 rounded">
          ğŸ‘¥ About
        </a>
        <a href="/contact" class="block text-gray-300 hover:text-yellow-400 font-medium py-3 px-2 transition-colors duration-200 border-b border-slate-700/30 hover:bg-slate-700/30 rounded">
          ğŸ“ Contact
        </a>
        
        <div class="pt-4 space-y-3">
          <a href="/contact" class="block w-full text-center bg-gradient-to-r from-yellow-400 to-green-400 text-slate-900 px-4 py-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
            ğŸ“… Free Consultation
          </a>
          <div class="text-center">
            <p class="text-xs text-gray-400 mb-2">Licensed Financial Advisor</p>
            <div class="flex justify-center space-x-3 text-xs text-gray-500">
              <span>BBB A+</span>
              <span>â€¢</span>
              <span>25+ Years</span>
              <span>â€¢</span>
              <span>Fiduciary</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const hamburgerIcon = document.getElementById('hamburger-icon');
    const closeIcon = document.getElementById('close-icon');
    
    if (!mobileMenuButton || !mobileMenu || !hamburgerIcon || !closeIcon) return;

    let isOpen = false;

    function toggleMenu() {
      isOpen = !isOpen;
      
      if (isOpen) {
        mobileMenu.classList.remove('hidden');
        hamburgerIcon.classList.add('hidden');
        closeIcon.classList.remove('hidden');
        mobileMenuButton.setAttribute('aria-expanded', 'true');
      } else {
        mobileMenu.classList.add('hidden');
        hamburgerIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
        mobileMenuButton.setAttribute('aria-expanded', 'false');
      }
    }

    mobileMenuButton.addEventListener('click', (e) => {
      e.preventDefault();
      toggleMenu();
    });

    // Close menu when clicking links
    const mobileMenuLinks = mobileMenu.querySelectorAll('a');
    mobileMenuLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (isOpen) toggleMenu();
      });
    });

    // Close menu when clicking outside
  document.addEventListener('click', (event) => {
  if (isOpen && !(mobileMenu.contains(event.target as Node)) && !(mobileMenuButton.contains(event.target as Node))) {
    toggleMenu();
  }
});
</script>
